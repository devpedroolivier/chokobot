<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>{{ 'Editar' if cliente else 'Novo' }} Cliente - Chokodelícia</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <div class="max-w-lg mx-auto bg-white shadow-md rounded-lg p-8 mt-10">

    <!-- Botão de Voltar -->
    <a href="/painel/clientes" class="inline-flex items-center text-sm text-blue-600 hover:underline mb-6">
      ← Voltar à lista de clientes
    </a>

    <!-- Título -->
    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      {{ 'Editar' if cliente else 'Novo' }} Cliente
    </h2>

    <!-- Formulário de criação/edição -->
    <form method="post" action="/painel/clientes" class="space-y-6">
      <!-- Nome -->
      <div>
        <label for="nome" class="block text-sm font-medium text-gray-700 mb-1">Nome:</label>
        <input
          type="text"
          name="nome"
          id="nome"
          value="{{ cliente[1] if cliente else '' }}"
          required
          class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
        />
      </div>

      <!-- Telefone -->
      <div>
        <label for="telefone" class="block text-sm font-medium text-gray-700 mb-1">Telefone:</label>
        <input
          type="text"
          name="telefone"
          id="telefone"
          value="{{ cliente[2] if cliente else '' }}"
          required
          class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
        />
      </div>

      <!-- Ações: Salvar e Excluir -->
      <div class="flex gap-4 justify-between mt-6">
        <!-- Botão Salvar -->
        <button
          type="submit"
          class="flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-md transition duration-200"
        >
          Salvar
        </button>

        {% if cliente %}
        <!-- Botão Excluir (form separado) -->
        </form> <!-- Fecha o form de edição aqui -->
        <form method="post" action="/painel/clientes/{{ cliente[0] }}/excluir" onsubmit="return confirm('Deseja realmente excluir este cliente?');" class="flex-1">
          <button
            type="submit"
            class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold px-6 py-2 rounded-md transition duration-200"
          >
            Excluir
          </button>
        </form>
        {% endif %}
    </form>
  </div>
</body>
</html>
